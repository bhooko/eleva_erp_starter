{% extends "base.html" %}
{% block title %}Vendor Rate History{% endblock %}
{% block content %}
<div class="px-6 py-6 space-y-4">
  <a href="{{ url_for('purchase_vendor_detail', vendor_id=vendor.id) }}" class="text-blue-600">← Back to vendor</a>
  <h1 class="text-2xl font-semibold">Rate History · {{ vendor.display_name or vendor.name }} · {{ product.name }}</h1>
  <table class="w-full text-sm bg-white rounded-xl border">
    <thead><tr class="text-left"><th class="p-2">Date</th><th class="p-2">Old rate</th><th class="p-2">New rate</th><th class="p-2">Changed by</th><th class="p-2">Note</th></tr></thead>
    <tbody>
      {% for row in history_rows %}
      <tr class="border-t"><td class="p-2">{{ row.changed_at or '—' }}</td><td class="p-2">{{ row.old_unit_price if row.old_unit_price is not none else '—' }}</td><td class="p-2">{{ row.new_unit_price if row.new_unit_price is not none else '—' }}</td><td class="p-2">{{ row.changed_by or '—' }}</td><td class="p-2">{{ row.note or '—' }}</td></tr>
      {% else %}
      <tr><td class="p-3 text-slate-500" colspan="5">No rate history entries.</td></tr>
      {% endfor %}
    </tbody>
  </table>
</div>
{% endblock %}
